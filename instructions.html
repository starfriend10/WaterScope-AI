<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaterScope-AI | Instructions</title>
    <link rel="stylesheet" href="style-research.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .note-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .note-box.important {
            background-color: #f8d7da;
            border-left-color: #dc3545;
        }
        
        .note-box h4 {
            margin-top: 0;
            color: #856404;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .note-box.important h4 {
            color: #721c24;
        }
        
        .feature-comparison {
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .feature-comparison table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        .feature-comparison th, .feature-comparison td {
            padding: 12px;
            text-align: left;
            border: 1px solid #dee2e6;
        }
        
        .feature-comparison th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .feature-comparison tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .fa-check-circle {
            color: #28a745;
        }
        
        .fa-info-circle {
            color: #17a2b8;
        }
        
        .fa-exclamation-circle {
            color: #ffc107;
        }
        
        .fa-bolt {
            color: #ffc107;
        }
        
        .fa-clock {
            color: #6c757d;
        }
        
        /* spacing for steps */
        .instruction-step {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: flex-start;
        }
        
        /* text readability */
        .step-content p {
            color: #444;
            line-height: 1.5;
            margin-bottom: 0;
        }
        
        /* Loading times note box */
        .note-box.loading {
            background-color: #e8f4fd;
            border-left-color: #2196F3;
            padding: 15px;
            margin-bottom: 20px; /* Reduced spacing after this section */
        }
        
        .note-box.loading h4 {
            color: #0b5b8a;
            margin-bottom: 10px;
        }
        
        /* Bullet list for loading times */
        .loading-list {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .loading-list li {
            margin-bottom: 8px;
            color: #444;
            line-height: 1.5;
            list-style-type: disc;
        }
        
        /* alignment for best practices list */
        .best-practices {
            margin: 15px 0;
            padding-left: 20px;
        }
        
        .best-practices li {
            margin-bottom: 8px;
            color: #444;
        }
        
        /* proper alignment for all steps */
        .step-content {
            flex: 1;
        }
        
        .step-number {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        /* spacing between sections */
        .instruction-card {
            margin-bottom: 20px; /* Reduced spacing between sections */
        }
        
        /* Sub-heading styles */
        .sub-heading {
            margin: 15px 0 10px 0;
            color: var(--primary);
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-microscope"></i> WaterScope-AI</h1>
                <p>Domain-Specific Small Language Models (SLMs) for Water Sustainability</p>
            </div>
            <div class="header-badge">
                <span class="badge"><i class="fas fa-flask"></i> Research Demo Edition</span>
                <span class="badge"><i class="fas fa-database"></i> v1.0.0</span>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab" onclick="window.location.href='index.html'"><i class="fas fa-home"></i> Home</button>
            <button class="tab" onclick="window.location.href='demo.html'"><i class="fas fa-play-circle"></i> MCQA Demo</button>
            <button class="tab" onclick="window.location.href='chat.html'"><i class="fas fa-comments"></i> Chat (Experimental purpose)</button>
            <button class="tab active"><i class="fas fa-book"></i> Instructions</button>
        </nav>

        <main class="main-content">
            <section class="instruction-section">
                <div class="section-header">
                    <h2><i class="fas fa-info-circle"></i> WaterScope-AI Instructions</h2>
                </div>
                
                <div class="instruction-content">
                    <!-- Loading Times Information -->
                    <div class="note-box loading">
                        <h4><i class="fas fa-clock"></i> Important: Loading Times</h4>
                        <p>Please note that there are two types of loading times you may experience:</p>
                        <ul class="loading-list">
                            <li><strong>API Initialization/Connection</strong> - This occurs on first use and can take about 5 minutes (application startup and model downloading). The API goes to sleep after 15 minutes of inactivity and will need to reinitialize if inactive.</li>
                            <li><strong>Model Processing</strong> - Once connected, model responses typically take 10 seconds - 1 minute depending on the complexity of your request.</li>
                        </ul>
                        <p>Please be patient during these processes, especially when using the system for the first time or after a period of inactivity. If connection problems occur, try refreshing the page.</p>
                    </div>
                    
                    <!-- MCQA Demo Instructions -->
                    <div class="instruction-card">
                        <h3><i class="fas fa-play-circle"></i> MCQA Demo Instructions</h3>
                        
                        <div class="note-box important">
                            <h4><i class="fas fa-exclamation-triangle"></i> Important Note</h4>
                            <p>The AI models were developed using a Small Language Model (Llama-3.1-8B) as a <strong>Proof of Concept</strong>. The goal is to demonstrate that, with appropriate domain-specific post-training, an expert model can achieve competitive performance while maintaining high accessibility, portability, and flexibility for local deployment.</p>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Load a Question</h4>
                                <p>Type your question or click on any row in the example data table to automatically populate the form.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Add Options</h4>
                                <p>By default, 4 options (A-D) are available. Use the "Add Option" button to add up to 8 options total.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Generate Explanation (Optional)</h4>
                                <p>Check the "Generate Explanation" box if you want the models to provide reasoning for their answers. Note that the model was developed for <strong>without explanation</strong> at this stage. This option may affect output quality</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Run Analysis</h4>
                                <p>Click the "Run Analysis" button to process your question through both models.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h4>Interpret Results</h4>
                                <p>View the predicted answer and raw output from each model in the results section.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Instructions -->
                    <div class="instruction-card">
                        <h3><i class="fas fa-comments"></i> Chat Interface</h3>
                        <p>The chat interface allows you to interact with our specialized DA-DPO model for water sustainability topics.</p>
                        
                        <div class="note-box important">
                            <h4><i class="fas fa-exclamation-triangle"></i> Important Note</h4>
                            <p>This AI model was primarily designed and optimized for <strong>Multiple Choice Question Answering (MCQA)</strong> tasks, not for open-ended chat conversations. While it can engage in dialogue, its responses may be less refined compared to its MCQA performance.</p>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Start a Conversation</h4>
                                <p>Type your question in the input box and press Enter or click the Send button.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Monitor Status</h4>
                                <p>Watch the status indicators for system feedback and response timing information.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Input Freezing During Processing</h4>
                                <p>During API calls, the input panel will automatically freeze to prevent multiple submissions. You'll see visual indicators that the system is processing your request.</p>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Clear Conversation</h4>
                                <p>Use the Clear Chat button to start a new conversation at any time.</p>
                            </div>
                        </div>
                        
                        <h4 class="sub-heading">Best Practices:</h4>
                        <ul class="best-practices">
                            <li>Ask specific questions about water sustainability, decarbonization, or wastewater treatment</li>
                            <li>Keep questions concise and focused</li>
                            <li>For optimal results, use the MCQA interface for question-answering tasks</li>
                            <li>Be patient - responses may take several seconds to generate</li>
                        </ul>
                        
                        <div class="feature-comparison">
                            <table>
                                <tr>
                                    <th>Feature</th>
                                    <th>MCQA Interface</th>
                                    <th>Chat Interface</th>
                                </tr>
                                <tr>
                                    <td>Primary Design Purpose</td>
                                    <td><i class="fas fa-check-circle"></i> Demo</td>
                                    <td><i class="fas fa-info-circle"></i> Experimental</td>
                                </tr>
                                <tr>
                                    <td>Response Quality</td>
                                    <td><i class="fas fa-check-circle"></i> Better</td>
                                    <td><i class="fas fa-exclamation-circle"></i> Variable</td>
                                </tr>
                                <tr>
                                    <td>Response Time</td>
                                    <td><i class="fas fa-bolt"></i> Relatively Faster</td>
                                    <td><i class="fas fa-clock"></i> Slower for Complex Inquiries</td>
                                </tr>
                                <tr>
                                    <td>Max Response Length</td>
                                    <td><i class="fas fa-battery-quarter"></i> 200 tokens</td>
                                    <td><i class="fas fa-battery-three-quarters"></i> 600 tokens</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Model Information -->
                    <div class="instruction-card">
                        <h3><i class="fas fa-cogs"></i> Model Information</h3>
                        
                        <div class="model-info">
                            <div class="model-detail">
                                <h4><i class="fas fa-tachometer-alt"></i> DA-DPO Model</h4>
                                <span class="model-badge">Preference-Optimized</span>
                                <p>Domain-adaptation by domain-specific text corpora and Fine-tuned using Direct Preference Optimization (DPO) for water sustainability content.</p>
                            </div>
                            
                            <div class="model-detail">
                                <h4><i class="fas fa-puzzle-piece"></i> DA-IT Model</h4>
                                <span class="model-badge">Instruction-Tuned</span>
                                <p>Domain-adaptation by domain-specific text corpora and Instruction-tuned on water sustainability questions and answers for domain-specific performance.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Troubleshooting -->
                    <div class="instruction-card">
                        <h3><i class="fas fa-question-circle"></i> Troubleshooting</h3>
                        
                        <div class="troubleshooting">
                            <div class="issue">
                                <h4>API Connection Issues</h4>
                                <p>If connection problems occur, try refreshing the page. The system will automatically attempt to reconnect. If the problem persists, please contact us (Email: <strong>junjiez@princeton.edu</strong>)</p>
                            </div>
                            
                            <div class="issue">
                                <h4>No Response from Models</h4>
                                <p>Ensure you've provided both a question and at least two options before running analysis in the MCQA interface.</p>
                            </div>
                            
                            <div class="issue">
                                <h4>Chat Response Quality</h4>
                                <p>Remember that the model was designed for MCQA tasks. For best results, use the MCQA interface for precise question-answering.</p>
                            </div>
                            
                            <div class="issue">
                                <h4>Input Panel Frozen</h4>
                                <p>If the input panel remains frozen for an extended period, refresh the page to reset the interface.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>WaterScope-AI Research Platform © 2025 | Built with GitHub, Hugging Face, & Gradio </p>
            <p>Note: This website showcases a demo of domain-specific SLMs for water sustainability</p>
            <p>Department of Civil and Environmental Engineering, Princeton University</p>
        </footer>
    </div>
    <script src="js/analytics.js"></script>
</body>
</html>
